---
# tasks file for common-setup

- name: show group_vars variables
  debug:
    var: compose_path 

- name: update sources.list
  copy:
    src: sources.list
    dest: /etc/apt/sources.list
    mode: '0644'

- name: Update apt-get repo and cache
  apt: update_cache=yes force_apt_get=yes cache_valid_time=3600

 name: Upgrade all apt packages
  apt: upgrade=dist force_apt_get=yes        

- name : install common packages
  apt:
    name:
      - vim
      - htop
      - wget
      - curl
      - tcpdump
      - telnet
      - ca-certificates
      - lsb-release
      - gnupg

- name: include docker install
  import_tasks: docker.yml
  tags: [ docker ]
